<!DOCTYPE html>
<html>
<head>
  <title>Maximum Pain calculator</title>
  <meta charset="utf-8">
  <meta name="description" content="Maximum Pain calculator">
  <meta name="author" content="Eusebio Rufian-Zilbermann">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="http://slidifylibraries2.googlecode.com/git/inst/libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="http://slidifylibraries2.googlecode.com/git/inst/libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="http://slidifylibraries2.googlecode.com/git/inst/libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="http://slidifylibraries2.googlecode.com/git/inst/libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="http://slidifylibraries2.googlecode.com/git/inst/libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="http://slidifylibraries2.googlecode.com/git/inst/libraries/frameworks/io2012/js/slides" 
    src="http://slidifylibraries2.googlecode.com/git/inst/libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <hgroup class="auto-fadein">
    <h1>Maximum Pain calculator</h1>
    <h2>Data application for fun and profit</h2>
    <p>Eusebio Rufian-Zilbermann<br/>Investment Enthusiast</p>
  </hgroup>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <hgroup>
    <h2>What is Maximum Pain theory?</h2>
  </hgroup>
  <article data-timings="">
    <p>In the stock market, some option traders (typically larger ones) use techniques 
for risk management known as <a href="https://en.wikipedia.org/wiki/Delta_neutral">delta neutral and delta hedging</a>. These operations create a relationship between stock prices and open positions on options. Maximum Pain is the value that maximizes option buyer&#39;s losses and the theory predicts that stock prices on expiration day will trend towards this value.</p>

<h2>Calculating Buyers&#39; Gain</h2>

<p>Open Interest is the amount of option contracts that have been purchased and sold for specific stock prices (the strike price) and expiration dates. Call contracts give the buyer the right to buy at the strike price. Call buyers make money based on the difference betweeen stock price and strike price when the stock price is above the strike, otherwise they don&#39;t make any money. Put contracts give a right to sell and contract buyers make the difference between strike and option price when the price is below the strike price, zero otherwise. For each strike price we can calculate the Call and Put buyers&#39; gains and aggregate them.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>Example Gain calculation</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">BuyerGains&lt;-function(Symbol, Expiration){  
  oc&lt;-getOptionChain(Symbol, Exp=Expiration)  
  CallValue&lt;-function(x){
    sum((oc$calls$Strike&lt;x)*(x-oc$calls$Strike)*oc$calls$OI)/10000} ## Million $
  PutValue&lt;-function(x){
    sum((oc$puts$Strike&gt;x)*(oc$puts$Strike-x)*oc$puts$OI/10000)} 
  AllStrikes&lt;-sort(unique(c(oc$calls$Strike,oc$puts$Strike)))
  data.frame(puts=sapply(AllStrikes,PutValue),
             calls=sapply(AllStrikes,CallValue),
             row.names=AllStrikes)}
buyerGains&lt;-BuyerGains(&quot;FB&quot;, as.Date(&quot;2015-10-9&quot;)) 
                            ##Date must be adjusted if run after Oct 9th 2015
StrikePrices&lt;-row.names(buyerGains)
MaxPain&lt;-StrikePrices[which.min(buyerGains[,&quot;calls&quot;]+buyerGains[,&quot;puts&quot;])]
</code></pre>

<p>Maximum pain will occur at the strike price where the aggregate Call and Put buyers&#39; gain is minimized</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>Example Maximum Pain calculation</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">MaxPain
</code></pre>

<pre><code>## [1] &quot;92&quot;
</code></pre>

<pre><code class="r">barplot(t(data.matrix(buyerGains)),col=c(&quot;red&quot;,&quot;green&quot;),main=&quot;Buyer Gains&quot;,
        ylab=&quot;Millions of US$&quot;,xlab=&quot;Stock price at expiration in US$&quot;,
        legend.text=c(&quot;Put buyers&#39; gain&quot;,&quot;Call buyers&#39; gain&quot;))
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-3"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="class" id="id" style="background:;">
  <hgroup>
    <h2>Why Maximum Pain?</h2>
  </hgroup>
  <article data-timings="">
    <p>When speculating on stock prices it is very important to get a trading edge: a way of assisting the decision making process so that the expected total gains are greater than the expected total losses.  </p>

<p>Maximum pain is a tool that can help <strong>YOU</strong> in getting that trading edge and make more money.  </p>

<hr>

<p>Additional info: <a href="http://www.maximum-pain.com">www.maximum-pain.com</a></p>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='What is Maximum Pain theory?'>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='Example Gain calculation'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Example Maximum Pain calculation'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='Why Maximum Pain?'>
         4
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="http://slidifylibraries2.googlecode.com/git/inst/libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>